@model SupplierRanking.Models.Fornecedor
@{
    ViewBag.Title = "Perfil";
    Layout = "~/Views/Shared/_LayoutLogado.cshtml";
}


<!-- INÍCIO - Modal Avaliação -->
<div id="myModal2" class="modal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <div class="modal-header" 
                 style="background-color: #0C496BE6; color: white; border-bottom: 3px solid #bbad00; ">

                <div class="col-11 p-0 d-flex justify-content-center">
                    <h4 class="modal-title">Avaliação </h4>
                </div>

                <div class="col-1">
                    <button class="close close-avaliacao m-0 p-0" data-dismiss="modal" style="color:white;">×</button>
                </div>

            </div>

            <form method="post" action="/Avaliacao/CadastrarAvaliacao">

                <div class="row modal-body">
                    <!-- Entrega -->
                    <div class="row col-12">

                        <div class="col-6 d-flex align-Models-center justify-content-end pr-5">
                            <h3 class="m-0">Entrega</h3>
                        </div>

                        <div class="col-6 pl-5">
                            <div class="rating d-flex align-Models-center">

                                <label>
                                    <input type="radio" name="entrega" value="1" checked/>
                                    <span class="icon">★</span>
                                </label>

                                <label>
                                    <input type="radio" name="entrega" value="2" />
                                    <span class="icon">★★</span>
                                </label>

                                <label>
                                    <input type="radio" name="entrega" value="3" />
                                    <span class="icon">★★★</span>
                                </label>


                                <label>
                                    <input type="radio" name="entrega" value="4" />
                                    <span class="icon">★★★★</span>
                                </label>


                                <label>
                                    <input type="radio" name="entrega" value="5" />
                                    <span class="icon">★★★★★</span>
                                </label>

                            </div>
                        </div>
                    </div>

                    <!-- Qualidade -->
                    <div class="row col-12">

                        <div class="col-6 d-flex align-Models-center justify-content-end pr-5">
                            <h3 class="m-0">Qualidade</h3>
                        </div>

                        <div class="col-6 pl-5">
                            <div class="rating d-flex align-Models-center">

                                <label>
                                    <input type="radio" name="qualidade" value="1" checked />
                                    <span class="icon">★</span>
                                </label>

                                <label>
                                    <input type="radio" name="qualidade" value="2" />
                                    <span class="icon">★★</span>
                                </label>

                                <label>
                                    <input type="radio" name="qualidade" value="3" />
                                    <span class="icon">★★★</span>
                                </label>

                                <label>
                                    <input type="radio" name="qualidade" value="4" />
                                    <span class="icon">★★★★</span>
                                </label>

                                <label>
                                    <input type="radio" name="qualidade" value="5" />
                                    <span class="icon">★★★★★</span>
                                </label>

                            </div>
                        </div>
                    </div>

                    <!-- Preço -->
                    <div class="row col-12">

                        <div class="col-6 d-flex align-Models-center justify-content-end pr-5">
                            <h3 class="m-0">Preço</h3>
                        </div>

                        <div class="col-6 pl-5">
                            <div class="rating d-flex align-Models-center">

                                <label>
                                    <input type="radio" name="preco" value="1" checked />
                                    <span class="icon">★</span>
                                </label>

                                <label>
                                    <input type="radio" name="preco" value="2" />
                                    <span class="icon">★★</span>
                                </label>

                                <label>
                                    <input type="radio" name="preco" value="3" />
                                    <span class="icon">★★★</span>
                                </label>


                                <label>
                                    <input type="radio" name="preco" value="4" />
                                    <span class="icon">★★★★</span>
                                </label>


                                <label>
                                    <input type="radio" name="preco" value="5" />
                                    <span class="icon">★★★★★</span>
                                </label>

                            </div>
                        </div>
                    </div>

                    <!-- Atendimento -->
                    <div class="row col-12">

                        <div class="col-6 d-flex align-Models-center justify-content-end pr-5">
                            <h3 class="m-0">Atendimento</h3>
                        </div>

                        <div class="col-6 pl-5">
                            <div class="rating d-flex align-Models-center">

                                <label>
                                    <input type="radio" name="atendimento" value="1" checked />
                                    <span class="icon">★</span>
                                </label>

                                <label>
                                    <input type="radio" name="atendimento" value="2" />
                                    <span class="icon">★★</span>
                                </label>

                                <label>
                                    <input type="radio" name="atendimento" value="3" />
                                    <span class="icon">★★★</span>
                                </label>

                                <label>
                                    <input type="radio" name="atendimento" value="4" />
                                    <span class="icon">★★★★</span>
                                </label>

                                <label>
                                    <input type="radio" name="atendimento" value="5" />
                                    <span class="icon">★★★★★</span>
                                </label>

                            </div>
                        </div>
                    </div>

                    <!-- Satisfação Geral -->
                    <div class="row col-12">

                        <div class="col-6 d-flex align-Models-center justify-content-end pr-5">
                            <h3 class="m-0">Satisfação Geral</h3>
                        </div>

                        <div class="col-6 pl-5">
                            <div class="rating d-flex align-Models-center">

                                <label>
                                    <input type="radio" name="satisfacao" value="1" checked />
                                    <span class="icon">★</span>
                                </label>

                                <label>
                                    <input type="radio" name="satisfacao" value="2" />
                                    <span class="icon">★★</span>
                                </label>

                                <label>
                                    <input type="radio" name="satisfacao" value="3" />
                                    <span class="icon">★★★</span>
                                </label>

                                <label>
                                    <input type="radio" name="satisfacao" value="4" />
                                    <span class="icon">★★★★</span>
                                </label>

                                <label>
                                    <input type="radio" name="satisfacao" value="5" />
                                    <span class="icon">★★★★★</span>
                                </label>

                            </div>
                        </div>
                    </div>

                    <!-- Comentário -->
                    <div class="row col-12 mt-4 mb-5">
                        <h3>Comentário</h3>

                        <textarea name="comentario"></textarea>
                        <input id="cnpj" name="cnpj_fornecedor" value="@Model.Cnpj" style="font-size: 10px;" hidden />
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="submit" class="btn btn-default" style="width: 150px; height: 40px; background: #0C496Bc9; color: #fff;">Salvar</button>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- FIM - Modal Avaliação -->


<!-- INÍCIO - Tela de Perfil -->
<div class="row col-12 conteudo-perfil col-12 m-5 p-5">

    <!-- Imagem Premium -->
    <div style="position:absolute; margin-left:152rem; margin-top:-3rem;">
        @if (Model.Plano.Equals("P"))
            {
            <img src="~/Content/images/premium2.png" height="200" width="160" />
        }
    </div>

    <section class="row col-12 mt-5 pt-5 m-0 p-0">

        <!-- Imagem de Perfil -->
        <div class=" col-4 d-flex justify-content-end">
            @if (Model.Imagem64 == "")
            {
                if (Model.Plano.Equals("P"))
                {
                    <img class="mr-5" style="border-radius: 50%;border: 4px solid #d0a748; box-shadow: 0px 0px 29px black;"
                            src="~/Content/images/iconecor.png" height="210" width="210" />
                }
                else
                {
                    <img class="mr-5" style="border-radius: 50%;border: 4px solid #d0a748; box-shadow: 0px 0px 29px black;"
                            src="~/Content/images/iconecor.png" height="210" width="210" />
                }
            }

            else
            {
                String imagem64 = string.Format("data:image/jpeg;base64,{0}", Model.Imagem64); //PRECISA DISSO PRA FUNCIONAR A IMAGEM
                if (Model.Plano.Equals("P"))
                {
                    <img class="mr-5" style="border-radius: 50%; border: 4px solid #d0a748; box-shadow: 0px 0px 29px black;"
                            src="@imagem64" height="210" width="210" />
                }
                else
                {
                    <img class="mr-5" style="border-radius: 50%; border: 4px solid #d0a748; box-shadow: 0px 0px 29px black;"
                            src="@imagem64" height="210" width="210" />
                }
            }
        </div>


        <div class="col-8">

            <!-- Nome da Empresa -->
            <div class="row col-12 justify-content-start">
                <h1 class="ml-5 pl-5" style="font-size:50px;">@Model.Nome_empresa</h1>
            </div>

            <div class="row">

                <!-- Media Geral -->
                <div class="col-3 justify-content-start">

                    <div class="row col-12 d-flex justify-content-center">
                        <h1 style="font-family:inherit; color:#ffb31a; text-shadow:0px 0px 5px black;">
                            @Model.Media
                        </h1>
                    </div>

                    <div class="row col-12 d-flex justify-content-center">
                        @if (Model.Media <= 1)
                        {
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star "></span>
                            <span class="fa fa-star "></span>
                            <span class="fa fa-star"></span>
                            <span class="fa fa-star"></span>
                        }

                        else if (Model.Media > 1 && Model.Media <= 2)
                        {
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star "></span>
                            <span class="fa fa-star"></span>
                            <span class="fa fa-star"></span>
                        }

                        else if (Model.Media > 2 && Model.Media <= 3)
                        {
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star"></span>
                            <span class="fa fa-star"></span>
                        }

                        else if (Model.Media > 3 && Model.Media <= 4)
                        {
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star"></span>
                        }

                        else if (Model.Media > 4 && Model.Media <= 5)
                        {
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                            <span class="fa fa-star" style="color:#ffb31a; text-shadow:0px 0px 5px black;"></span>
                        }
                    </div>

                </div>

                <!-- Medias das Avaliações -->
                @if (Model.Plano.Equals("P"))
                {
                    <div class="col-6 d-flex align-items-center mt-4">
                        <div class="mr-5">
                            <img src="~/Content/images/qualidade.png" height="40" width="40" style="background-color: white; border-radius:50%" />
                            @Model.Media_qualidade
                        </div>

                        <div class="mr-5">
                            <img src="~/Content/images/atendimento.png" height="40" width="40" style="background-color: white; border-radius:50%" />
                            @Model.Media_atendimento
                        </div>

                        <div class="mr-5">
                            <img src="~/Content/images/entrega.png" height="40" width="40" style="background-color: white; border-radius:50%" />
                            @Model.Media_entrega
                        </div>

                        <div class="mr-5">
                            <img src="~/Content/images/preço.png" height="40" width="40" style="background-color: white; border-radius:50%" />
                            @Model.Media_preco
                        </div>

                        <div>
                            <img src="~/Content/images/satisfacao.png" height="40" width="40" style="background-color: white; border-radius:50%" />
                            @Model.Media_satisfacao
                        </div>
                    </div>
                }

                <!-- Botão Avaliar -->
                @if (Session["UserPessoaFisica"] != null || Session["UserPessoaJuridica"] != null)
                {
                    <div class="col-3 d-flex align-items-center" style="flex-direction: column;">
                        <h3 class="m-0 mb-4">Avalie</h3>
                        <img src="~/Content/images/avaliarDourado.png" id="@Model.Cnpj" onclick="linkaCaixaContexto(this.id)" />
                    </div>
                }

            </div>

        </div>
        @*<div style="width: 413px;height: 226px;background-color: #fff0;position: absolute;left: 40%;top: 28%;">

            <h1 style="position: absolute;left: 32%;top: 27px;color:white">Descrição</h1>

            <div style="position: absolute;width: 643px;height: 200px;border: 2px solid #d0a748;;top: 104px;right: -28%;
                            box-shadow: 0px 0px 13px black;overflow: auto;padding: 1rem;
                            font-size: 20px;text-align: center;color: white;">
                @Model.Descricao
            </div>
        </div>*@


</section>

</div>
<!-- FIM - Tela de Perfil -->

<script>

    var slideIndex = 1;
    showDivs(slideIndex);

    function plusDivs(n) {
        showDivs(slideIndex += n);
    }

    function showDivs(n) {
        var i;
        var x = document.getElementsByClassName("mySlides");
        if (n > x.length) { slideIndex = 1 }
        if (n < 1) { slideIndex = x.length }
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        x[slideIndex - 1].style.display = "block";
    }

</script>

